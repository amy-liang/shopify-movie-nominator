(this["webpackJsonpshopify-movie-nominator"]=this["webpackJsonpshopify-movie-nominator"]||[]).push([[0],{119:function(e,t,n){"use strict";n.r(t);n(60);var r,i,o,a,c,l,u=n(0),s=n.n(u),p=n(49),h=n.n(p),f=(n(65),n(10)),m=n(13),d=n(17),b=n(16),g=n(2),v=n(7),y=n(12),O=n(4),j=(n(25),n(3)),w=n(1),x={OMDbStore:Symbol("OMDbStore")},E=n(23),S=n(28),N=n.n(S),M=n(50),k=n(58),C=Object(E.injectable)()((i=function(){function e(){Object(f.a)(this,e),Object(v.a)(this,"searchResults",o,this),Object(v.a)(this,"nominations",a,this),Object(v.a)(this,"error",c,this),Object(v.a)(this,"searchMovies",l,this)}return Object(m.a)(e,[{key:"parseAndSetMovieData",value:function(e){var t,n=[],r=Object(k.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push({title:i.Title,release_year:i.Year,poster_url:i.Poster,id:i.imdbID})}}catch(o){r.e(o)}finally{r.f()}this.searchResults=n}},{key:"addNomination",value:function(e){this.nominations.length>=5?console.log("WOW!"):(this.nominations.push(e),this.updateCache())}},{key:"removeNomination",value:function(e){this.nominations=this.nominations.filter((function(t){return t!==e})),this.updateCache()}},{key:"updateCache",value:function(){localStorage.setItem("shopify_movie_nominations_cached",this.nominations.map((function(e){return JSON.stringify(e)})).toString())}}]),e}(),o=Object(O.a)(i.prototype,"searchResults",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),a=Object(O.a)(i.prototype,"nominations",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=Object(O.a)(i.prototype,"error",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=Object(O.a)(i.prototype,"searchMovies",[w.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(M.a)(N.a.mark((function t(r,i){var o,a,c,l,u;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r.trim().length<=0)){t.next=4;break}return e.searchResults=[],e.error=null,t.abrupt("return");case 4:return o="?s="+r,a="&p="+i,"&type=movie","&apikey=24cbac1c",c=n(93).default,t.prev=9,t.next=12,c.get("http://www.omdbapi.com/"+o+a+"&type=movie&apikey=24cbac1c");case 12:if("False"!==(l=t.sent).data.Response){t.next=15;break}throw l.data.Error;case 15:u=l.data.Search,e.parseAndSetMovieData(u),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(9),console.error("Error: "+t.t0),e.error=t.t0;case 23:case"end":return t.stop()}}),t,null,[[9,19]])})));return function(e,n){return t.apply(this,arguments)}}()}}),Object(O.a)(i.prototype,"parseAndSetMovieData",[w.f],Object.getOwnPropertyDescriptor(i.prototype,"parseAndSetMovieData"),i.prototype),Object(O.a)(i.prototype,"addNomination",[w.f],Object.getOwnPropertyDescriptor(i.prototype,"addNomination"),i.prototype),Object(O.a)(i.prototype,"removeNomination",[w.f],Object.getOwnPropertyDescriptor(i.prototype,"removeNomination"),i.prototype),r=i))||r,D=new E.Container;D.bind(x.OMDbStore).to(C).inSingletonScope();var R=n(19),z=function e(){Object(f.a)(this,e)};z.green="#A1D683",z.navy="#025157",z.white="#ffffff";var _=function e(){Object(f.a)(this,e)};function A(){var e=Object(g.a)(["\n    width: 100vw;\n    height: ","px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    position: fixed;\n    padding-left: 32px;\n    border-bottom: 0.5px solid ",";\n"]);return A=function(){return e},e}_.headerHeight=70,_.footerHeight=50;var H=j.a.div(A(),_.headerHeight,z.navy),I=function(){return u.createElement(H,null,u.createElement("h1",null,"The Shoppies"))};function P(){var e=Object(g.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    padding: 0px 8px;\n"]);return P=function(){return e},e}function W(){var e=Object(g.a)(["\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    height: ",";\n    background-color: ",";\n"]);return W=function(){return e},e}var F,J,q,T,Y,B=j.a.div(W(),_.footerHeight,z.green),L=j.a.div(P()),G=function(){return u.createElement(B,null,u.createElement(L,null,u.createElement("p",null,"Shopify W'21 Web Developer Intern Challenge by Amy Liang"),u.createElement("p",null,"Icons made by"," ",u.createElement("a",{href:"https://www.flaticon.com/authors/photo3idea-studio",title:"photo3idea_studio"},"photo3idea_studio")," ","from"," ",u.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"}," ","www.flaticon.com"))))},K=n(54),Q=n.n(K),U=n(55),V=n.n(U);function X(){var e=Object(g.a)(["\n    padding: 0 32px;\n    width: 100%;\n    border-radius: 24px;\n    border-size: 0px;\n    border: 1px solid lightgray;\n    height: 35px;\n    font-family: Montserrat;\n"]);return X=function(){return e},e}function Z(){var e=Object(g.a)(["\n    position: absolute;\n    top: 9px;\n    left: 10px;\n    width: 17px;\n"]);return Z=function(){return e},e}function $(){var e=Object(g.a)(["\n    display: flex;\n    position: relative;\n    height: 30px;\n    margin-top: 32px;\n"]);return $=function(){return e},e}var ee=j.a.div($()),te=j.a.img(Z()),ne=j.a.input(X()),re=Object(R.a)((J=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(v.a)(e,"omdbStore",q,Object(y.a)(e)),Object(v.a)(e,"query",T,Object(y.a)(e)),Object(v.a)(e,"onInput",Y,Object(y.a)(e)),e}return Object(m.a)(n,[{key:"render",value:function(){var e=V()(this.onInput,500);return u.createElement(ee,null,u.createElement(te,{src:Q.a}),u.createElement(ne,{className:"search",placeholder:"Search for a movie",type:"text",onChange:function(t){return e(t.target.value)}}))}}]),n}(u.Component),q=Object(O.a)(J.prototype,"omdbStore",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.get(x.OMDbStore)}}),T=Object(O.a)(J.prototype,"query",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Y=Object(O.a)(J.prototype,"onInput",[w.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.omdbStore.searchMovies(t,1)}}}),F=J))||F,ie=n(56),oe=n.n(ie),ae=n(57),ce=n.n(ae);function le(){var e=Object(g.a)(["\n    width: ","px;\n    height: ","px;\n"]);return le=function(){return e},e}var ue,se=j.a.div(le(),(function(e){return e.width?e.width:0}),(function(e){return e.height?e.height:0})),pe=function(e){return u.createElement(se,{width:e.width,height:e.height},e.children)};function he(){var e=Object(g.a)(["\n    cursor: pointer;\n    border: 1px solid white;\n    margin-top: 8px;\n    padding: 16px;\n"]);return he=function(){return e},e}function fe(){var e=Object(g.a)(["\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    position: fixed;\n    z-index: 100;\n    background-color: rgb(0 0 0 / 50%);\n    > * {\n        color: ",";\n    }\n"]);return fe=function(){return e},e}var me,de,be,ge,ve,ye,Oe=j.a.div(fe(),z.white),je=j.a.div(he()),we=Object(R.a)(ue=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return u.createElement(Oe,null,u.createElement("h2",null,"You did it!"),u.createElement("p",null,"Successfully nominated 5 movies"),u.createElement(je,{onClick:this.props.onClick},"Close"))}}]),n}(u.Component))||ue;function xe(){var e=Object(g.a)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    margin: 16px 0;\n    flex-direction: column;\n    margin-bottom: ","px;\n"]);return xe=function(){return e},e}function Ee(){var e=Object(g.a)(["\n    border: 1px solid\n        ",";\n    color: ",";\n    margin-right: 16px;\n    height: 30px;\n    padding: 8px;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    cursor: pointer;\n    justify-content: center;\n"]);return Ee=function(){return e},e}function Se(){var e=Object(g.a)(["\n    display: flex;\n    flex-direction: row;\n"]);return Se=function(){return e},e}function Ne(){var e=Object(g.a)(["\n    width: 42px;\n    height: 60px;\n    object-fit: cover;\n"]);return Ne=function(){return e},e}function Me(){var e=Object(g.a)(["\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    margin: 8px;\n"]);return Me=function(){return e},e}function ke(){var e=Object(g.a)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"]);return ke=function(){return e},e}function Ce(){var e=Object(g.a)(["\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n    overflow-x: hidden;\n    display: flex;\n    flex-direction: column;\n    margin: 0 16px;\n    margin-bottom: ","px;\n"]);return Ce=function(){return e},e}function De(){var e=Object(g.a)(["\n    width: 50vw;\n    height: 100vh;\n    padding: 0px 16px;\n    display: flex;\n    flex-direction: column;\n"]);return De=function(){return e},e}function Re(){var e=Object(g.a)(["\n    display: flex;\n    flex-direction: row;\n"]);return Re=function(){return e},e}var ze=j.a.div(Re()),_e=j.a.div(De()),Ae=j.a.div(Ce(),_.footerHeight+12),He=j.a.div(ke()),Ie=j.a.div(Me()),Pe=j.a.img(Ne()),We=j.a.div(Se()),Fe=j.a.div(Ee(),(function(e){return e.isNomination?z.navy:z.green}),(function(e){return e.isNomination?z.navy:z.green})),Je=j.a.div(xe(),_.footerHeight+12),qe=Object(R.a)((de=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(v.a)(e,"omdbStore",be,Object(y.a)(e)),Object(v.a)(e,"showModal",ge,Object(y.a)(e)),e.toggleNomination=function(t,n){n?e.omdbStore.removeNomination(t):e.omdbStore.nominations.includes(t)||(e.omdbStore.addNomination(t),e.omdbStore.nominations.length>=5&&e.showNominationCompleteModal())},Object(v.a)(e,"showNominationCompleteModal",ve,Object(y.a)(e)),Object(v.a)(e,"hideNominationCompleteModal",ye,Object(y.a)(e)),e.renderSearchResults=function(){return e.omdbStore.searchResults.map((function(t){return e.renderSearchResult(t,!1)}))},e.renderSearchResult=function(t,n){var r;return r=n?"Remove":"Nominate",u.createElement(Ie,{key:t.id},u.createElement(We,null,u.createElement(Pe,{src:t.poster_url}),u.createElement(pe,{width:16}),u.createElement("div",null,u.createElement("h4",null,t.title),u.createElement("p",null,t.release_year))),u.createElement(Fe,{onClick:function(){return e.toggleNomination(t,n)},isNomination:n},r))},e.renderNominations=function(){return e.omdbStore.nominations.map((function(t){return e.renderSearchResult(t,!0)}))},e}return Object(m.a)(n,[{key:"render",value:function(){return u.createElement(u.Fragment,null,this.showModal?u.createElement(we,{onClick:this.hideNominationCompleteModal}):null,u.createElement(I,null),u.createElement(ze,null,u.createElement(_e,null,u.createElement(pe,{height:_.headerHeight}),u.createElement(re,null),u.createElement(pe,{height:32}),u.createElement(Ae,null,this.showingSearchResults?this.renderSearchResults():u.createElement(He,null,this.omdbStore.error?null:u.createElement("img",{src:oe.a,alt:"search placeholder",width:140}),u.createElement("p",null,this.omdbStore.error?this.omdbStore.error:"Search for a movie!")))),u.createElement(_e,null,u.createElement(pe,{height:_.headerHeight}),u.createElement(Je,null,u.createElement("h2",null,"Nominations"),this.hasNominations?this.renderNominations():u.createElement(He,null,u.createElement("img",{src:ce.a,alt:"nominations placeholder",width:140}),u.createElement("p",null,"None yet!"))))),u.createElement(G,null))}},{key:"showingSearchResults",get:function(){return this.omdbStore.searchResults.length>0}},{key:"hasNominations",get:function(){return this.omdbStore.nominations.length>0}}]),n}(u.Component),be=Object(O.a)(de.prototype,"omdbStore",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.get(x.OMDbStore)}}),ge=Object(O.a)(de.prototype,"showModal",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(O.a)(de.prototype,"showingSearchResults",[w.g],Object.getOwnPropertyDescriptor(de.prototype,"showingSearchResults"),de.prototype),Object(O.a)(de.prototype,"hasNominations",[w.g],Object.getOwnPropertyDescriptor(de.prototype,"hasNominations"),de.prototype),ve=Object(O.a)(de.prototype,"showNominationCompleteModal",[w.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.showModal=!0}}}),ye=Object(O.a)(de.prototype,"hideNominationCompleteModal",[w.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.showModal=!1}}}),me=de))||me;function Te(){var e=Object(g.a)(["\n    width: 100vw;\n    height: 100vh;\n    padding: 0;\n    margin: 0;\n    font-family: Montserrat;\n"]);return Te=function(){return e},e}var Ye=j.a.div(Te()),Be=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return u.createElement(Ye,null,u.createElement(qe,null))}}]),n}(u.Component);h.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(Be,null)),document.getElementById("root"))},54:function(e,t,n){e.exports=n.p+"static/media/search.070dbfaa.svg"},56:function(e,t,n){e.exports=n.p+"static/media/cinema.dc3d4eba.png"},57:function(e,t,n){e.exports=n.p+"static/media/trophy.593a2a6e.png"},59:function(e,t,n){e.exports=n(119)},65:function(e,t,n){}},[[59,1,2]]]);
//# sourceMappingURL=main.b98f8bd6.chunk.js.map